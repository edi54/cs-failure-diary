# BOJ 1146 — 지그재그 서기 (오답 노트)

## 문제 요약
N까지의 수로 만들 수 있는 지그재그(오르락내리락) 순열의 개수를 구하는 문제.  
결과는 `1,000,000`으로 나눈 나머지.


## 왜 틀렸는가? (오답 원인)
처음에는 `dp[i][j]`만 두는 2차원 DP로 접근했다.  
- i의 홀짝에 따라 `<`/`>`를 번갈아 적용하면 될 거라 생각했음  
- 하지만 **지그재그에는 시작 방향 `<` 또는 `>` 두 종류가 존재함**

2D DP에는  
**“이 수열이 `<`로 시작한건지 `>`로 시작한 건지” 정보가 없다.**

➡️ 이 정보가 없으면 i번째 자리에서 필요한 부등호를 결정할 수 없어서  
➡️ 서로 다른 패턴의 수열이 섞여 잘못된 전이가 발생함  
➡️ **DP 상태 부족 → 구조적으로 불가능한 접근**


## 올바른 접근
시작 부등호까지 DP 상태에 포함한 **3차원 DP** 사용.

`dp[i][j][s]`  
- i: 길이  
- j: 맨 앞 숫자  
- s: 시작 방향 (0 = `<`, 1 = `>`)

점화식 요약:
- `s = 1` (처음 `>`):  
  `dp[i][j][1] = sum(dp[i-1][k][0])` for k < j  
- `s = 0` (처음 `<`):  
  `dp[i][j][0] = sum(dp[i-1][k][1])` for j ≤ k < i

정답 = 모든 j에 대해 `dp[N][j][0] + dp[N][j][1]` 합